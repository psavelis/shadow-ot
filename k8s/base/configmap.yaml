apiVersion: v1
kind: ConfigMap
metadata:
  name: shadow-server-config
  namespace: shadow-ot
  labels:
    app.kubernetes.io/name: shadow-server
    app.kubernetes.io/component: config
data:
  server.toml: |
    [server]
    name = "Shadow OT"
    motd = "Welcome to Shadow OT - The Ultimate Open Tibia Experience!"
    save_interval_minutes = 5
    max_players_global = 10000
    owner_name = "Shadow Team"
    owner_email = "admin@shadow-ot.com"
    website_url = "https://shadow-ot.com"

    [network]
    login_host = "0.0.0.0"
    login_port = 7171
    game_host = "0.0.0.0"
    game_port_start = 7172
    game_port_end = 7180
    api_host = "0.0.0.0"
    api_port = 8080
    websocket_port = 8081
    max_connections_per_ip = 10
    connection_timeout_seconds = 60

    [realms]
    config_path = "/data/realms"
    default_realm = "shadowveil"
    hot_reload = true
    max_realms = 20

    [security]
    jwt_expiry_hours = 24
    password_min_length = 8
    max_login_attempts = 5
    lockout_duration_minutes = 15
    enable_2fa = true
    allowed_client_versions = [1098, 1099, 1100, 1200, 1281, 1310]

    [monitoring]
    prometheus_enabled = true
    prometheus_port = 9090
    tracing_enabled = true
    log_level = "info"

    [features]
    multi_realm = true
    cross_realm_trading = true
    seasonal_events = true
    matchmaking = true
    anti_cheat = true
    custom_sprites = true
    lua_scripting = true
    user_submitted_content = true
    houses = true
    guilds = true
    party_system = true
    market = true
    achievements = true
    bestiary = true
    prey_system = true
    forge_system = true
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: shadow-realms-config
  namespace: shadow-ot
  labels:
    app.kubernetes.io/name: shadow-server
    app.kubernetes.io/component: realms
data:
  shadowveil.toml: |
    [realm]
    name = "Shadowveil"
    theme = "dark"
    description = "A realm shrouded in eternal darkness, where only the brave survive"
    protocol_version = "12.70"
    max_players = 500

    [rates]
    experience = 5.0
    skill = 3.0
    loot = 2.0
    spawn = 1.5

    [pvp]
    enabled = true
    type = "open"
    protection_level = 50
    skull_duration_hours = 24

    [features]
    cross_realm_trading = true
    seasonal_events = true
    custom_sprites = true

    [branding]
    primary_color = "#1a1a2e"
    secondary_color = "#e94560"
    logo = "assets/shadowveil-logo.png"
    tagline = "Embrace the Darkness"

  aetheria.toml: |
    [realm]
    name = "Aetheria"
    theme = "mythic"
    description = "A land of gods, heroes, and ancient magic where legends are forged"
    protocol_version = "12.70"
    max_players = 500

    [rates]
    experience = 3.0
    skill = 2.0
    loot = 1.5
    spawn = 1.0

    [pvp]
    enabled = true
    type = "optional"
    protection_level = 100
    skull_duration_hours = 48

    [features]
    cross_realm_trading = true
    seasonal_events = true
    custom_sprites = true

    [branding]
    primary_color = "#4A90D9"
    secondary_color = "#FFD700"
    logo = "assets/aetheria-logo.png"
    tagline = "Where Legends Are Forged"

  warbound.toml: |
    [realm]
    name = "Warbound"
    theme = "war"
    description = "Non-stop PvP action in a realm designed for combat"
    protocol_version = "12.70"
    max_players = 300

    [rates]
    experience = 10.0
    skill = 5.0
    loot = 3.0
    spawn = 2.0

    [pvp]
    enabled = true
    type = "hardcore"
    protection_level = 30
    skull_duration_hours = 12

    [features]
    cross_realm_trading = false
    seasonal_events = true
    custom_sprites = true
    instant_respawn = true
    no_loot_loss = true

    [branding]
    primary_color = "#8B0000"
    secondary_color = "#FF4500"
    logo = "assets/warbound-logo.png"
    tagline = "Only the Strong Survive"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: download-assets-config
  namespace: shadow-ot
  labels:
    app.kubernetes.io/name: shadow-download
    app.kubernetes.io/component: assets
data:
  # Curated open-source Tibia client and asset URLs
  # OTClient releases: https://github.com/mehah/otclient/releases
  # OpenTibia sprites: https://github.com/opentibiabr/canary
  # TibiaMaps data: https://tibiamaps.github.io/tibia-map-data/
  urls: |
    https://github.com/mehah/otclient/releases/download/v1.0.1/otclient-windows-x64.zip
    https://github.com/mehah/otclient/releases/download/v1.0.1/otclient-linux-x64.tar.gz
    https://github.com/mehah/otclient/releases/download/v1.0.1/otclient-macos-arm64.tar.gz
    https://github.com/opentibiabr/canary/releases/download/v3.1.2/canary-windows-x64.zip
    https://raw.githubusercontent.com/tibiamaps/tibia-map-data/master/mapper-sprites/Tibia.pic
    https://raw.githubusercontent.com/tibiamaps/tibia-map-data/master/mapper-sprites/Tibia.spr
